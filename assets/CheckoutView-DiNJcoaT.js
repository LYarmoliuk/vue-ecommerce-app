import{d as B,r as N,u as P,a as F,b as I,c as $,e as i,f as s,g as q,h as m,w as f,T as v,i as y,j as x,v as C,k as l,n as w,l as V,R as O,m as U,o as b,t as M,p as d,_ as E}from"./index-Kr8w7p-v.js";async function R(a){if(console.log("–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ API:",a),await new Promise(u=>setTimeout(u,1e3)),!a.customer.fullName||a.items.length===0)throw new Error("–ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó: —ñ–º—è –∞–±–æ –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ.");const o={success:!0,orderId:Math.floor(Math.random()*1e4)};return console.log("–Ü–º—ñ—Ç–æ–≤–∞–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:",o),o}const S={fullName:"",phone:"",deliveryMethod:null,paymentMethod:null},_=B("order",()=>{const a=N({...S}),o=N(!1),u=N(null),p=P();function t(c,r){c in a.value&&(a.value[c]=r)}function h(){a.value={...S}}async function g(){if(o.value=!0,u.value=null,p.items.length===0)return u.value="–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π. –ù–µ–º–æ–∂–ª–∏–≤–æ –æ—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.",o.value=!1,!1;const c={customer:{...a.value},items:p.items,totalPrice:p.total};try{const r=await R(c);return console.log("–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ:",r),p.clearCart(),h(),!0}catch(r){return console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:",r),u.value=r.message||"–°—Ç–∞–ª–∞—Å—è –Ω–µ–≤—ñ–¥–æ–º–∞ –ø–æ–º–∏–ª–∫–∞.",!1}finally{o.value=!1}}return{form:a,loading:o,error:u,updateFormField:t,submitOrder:g,resetForm:h}}),j={class:"checkout-page"},z={class:"checkout-container"},A={key:0,class:"alert error-box"},D={class:"alert-text"},L={key:0,class:"alert success-box"},G={class:"form"},H={class:"section"},J={class:"form-group"},K={class:"input-wrapper"},Q={key:0,class:"error-text"},W={class:"form-group"},Y={class:"input-wrapper"},Z={key:0,class:"error-text"},ee={class:"section"},se={class:"form-group"},te={class:"input-wrapper"},oe={key:0,class:"error-text"},le={class:"form-group"},ne={class:"input-wrapper"},ae={key:0,class:"error-text"},re=["disabled"],ie={key:0,class:"btn-content loading"},de={key:1,class:"btn-content"},ue=F({__name:"CheckoutView",setup(a){const o=_(),u=U(),p=N(!1),t=I({fullName:"",phone:"",deliveryMethod:"",paymentMethod:""});function h(){o.form.fullName.trim()?o.form.fullName.trim().length<3?t.fullName="–Ü–º'—è –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 3 —Å–∏–º–≤–æ–ª–∏":t.fullName="":t.fullName="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è"}function g(){const k=o.form.phone.trim();k?/^\+380\d{9}$/.test(k)?t.phone="":t.phone="–§–æ—Ä–º–∞—Ç: +380XXXXXXXXX":t.phone="–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É"}function c(){o.form.deliveryMethod?t.deliveryMethod="":t.deliveryMethod="–í–∏–±–µ—Ä—ñ—Ç—å —Å–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏"}function r(){o.form.paymentMethod?t.paymentMethod="":t.paymentMethod="–í–∏–±–µ—Ä—ñ—Ç—å –º–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç–∏"}const X=$(()=>!!t.fullName||!!t.phone||!!t.deliveryMethod||!!t.paymentMethod);async function T(){if(h(),g(),c(),r(),X.value){window.scrollTo({top:0,behavior:"smooth"});return}await o.submitOrder()&&(p.value=!0,window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{u.push("/")},3e3))}return(k,e)=>(d(),i("div",j,[e[29]||(e[29]=s("div",{class:"decoration-circle circle-1"},null,-1)),e[30]||(e[30]=s("div",{class:"decoration-circle circle-2"},null,-1)),e[31]||(e[31]=s("div",{class:"decoration-circle circle-3"},null,-1)),s("div",z,[e[27]||(e[27]=q('<div class="header" data-v-508c9b1c><div class="icon-wrapper" data-v-508c9b1c><span class="cart-icon" data-v-508c9b1c>üõí</span></div><h1 class="title" data-v-508c9b1c>–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h1><p class="subtitle" data-v-508c9b1c>–©–µ –∫—Ä–æ–∫ –¥–æ –≤–∞—à–æ—ó –ø–æ–∫—É–ø–∫–∏</p></div>',1)),m(v,{name:"fade"},{default:f(()=>[l(o).error?(d(),i("div",A,[e[8]||(e[8]=s("span",{class:"alert-icon"},"‚ö†Ô∏è",-1)),s("span",D,M(l(o).error),1)])):b("",!0)]),_:1}),m(v,{name:"fade"},{default:f(()=>[p.value?(d(),i("div",L,[...e[9]||(e[9]=[s("span",{class:"alert-icon"},"‚úÖ",-1),s("span",{class:"alert-text"},"–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ!",-1)])])):b("",!0)]),_:1}),s("div",G,[s("div",H,[e[16]||(e[16]=s("h2",{class:"section-title"},[s("span",{class:"section-icon"}),y(" –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è ")],-1)),s("div",J,[e[12]||(e[12]=s("label",{class:"label"},[s("span",{class:"label-text"},"–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ —ñ–º'—è"),s("span",{class:"required"},"*")],-1)),s("div",K,[x(s("input",{type:"text",placeholder:"–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ","onUpdate:modelValue":e[0]||(e[0]=n=>l(o).form.fullName=n),class:w(["input",{"input-error":t.fullName}]),onBlur:h,onInput:e[1]||(e[1]=n=>t.fullName="")},null,34),[[C,l(o).form.fullName]]),e[10]||(e[10]=s("span",{class:"input-icon"},null,-1))]),m(v,{name:"slide-fade"},{default:f(()=>[t.fullName?(d(),i("span",Q,[e[11]||(e[11]=s("span",{class:"error-icon"},"‚ö†",-1)),y(" "+M(t.fullName),1)])):b("",!0)]),_:1})]),s("div",W,[e[15]||(e[15]=s("label",{class:"label"},[s("span",{class:"label-text"},"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É"),s("span",{class:"required"},"*")],-1)),s("div",Y,[x(s("input",{type:"tel",placeholder:"+380 XX XXX XX XX","onUpdate:modelValue":e[2]||(e[2]=n=>l(o).form.phone=n),class:w(["input",{"input-error":t.phone}]),onBlur:g,onInput:e[3]||(e[3]=n=>t.phone="")},null,34),[[C,l(o).form.phone]]),e[13]||(e[13]=s("span",{class:"input-icon"},null,-1))]),m(v,{name:"slide-fade"},{default:f(()=>[t.phone?(d(),i("span",Z,[e[14]||(e[14]=s("span",{class:"error-icon"},"‚ö†",-1)),y(" "+M(t.phone),1)])):b("",!0)]),_:1})])]),s("div",ee,[e[23]||(e[23]=s("h2",{class:"section-title"},[s("span",{class:"section-icon"}),y(" –î–æ—Å—Ç–∞–≤–∫–∞ —Ç–∞ –æ–ø–ª–∞—Ç–∞ ")],-1)),s("div",se,[e[19]||(e[19]=s("label",{class:"label"},[s("span",{class:"label-text"},"–°–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏"),s("span",{class:"required"},"*")],-1)),s("div",te,[x(s("select",{"onUpdate:modelValue":e[4]||(e[4]=n=>l(o).form.deliveryMethod=n),class:w(["input select",{"input-error":t.deliveryMethod}]),onBlur:c,onChange:e[5]||(e[5]=n=>t.deliveryMethod="")},[...e[17]||(e[17]=[s("option",{disabled:"",value:""},"–û–±–µ—Ä—ñ—Ç—å —Å–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏",-1),s("option",{value:"nova_poshta"}," –ù–æ–≤–∞ –ü–æ—à—Ç–∞",-1),s("option",{value:"ukrposhta"}," –£–∫—Ä–ü–æ—à—Ç–∞",-1),s("option",{value:"courier"}," –ö—É—Ä'—î—Ä –ø–æ –º—ñ—Å—Ç—É",-1)])],34),[[V,l(o).form.deliveryMethod]])]),m(v,{name:"slide-fade"},{default:f(()=>[t.deliveryMethod?(d(),i("span",oe,[e[18]||(e[18]=s("span",{class:"error-icon"},"‚ö†",-1)),y(" "+M(t.deliveryMethod),1)])):b("",!0)]),_:1})]),s("div",le,[e[22]||(e[22]=s("label",{class:"label"},[s("span",{class:"label-text"},"–ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç–∏"),s("span",{class:"required"},"*")],-1)),s("div",ne,[x(s("select",{"onUpdate:modelValue":e[6]||(e[6]=n=>l(o).form.paymentMethod=n),class:w(["input select",{"input-error":t.paymentMethod}]),onBlur:r,onChange:e[7]||(e[7]=n=>t.paymentMethod="")},[...e[20]||(e[20]=[s("option",{disabled:"",value:""},"–û–±–µ—Ä—ñ—Ç—å –º–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç–∏",-1),s("option",{value:"card"}," –ö–∞—Ä—Ç–∫–∞ –æ–Ω–ª–∞–π–Ω",-1),s("option",{value:"cod"}," –ì–æ—Ç—ñ–≤–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ",-1)])],34),[[V,l(o).form.paymentMethod]])]),m(v,{name:"slide-fade"},{default:f(()=>[t.paymentMethod?(d(),i("span",ae,[e[21]||(e[21]=s("span",{class:"error-icon"},"‚ö†",-1)),y(" "+M(t.paymentMethod),1)])):b("",!0)]),_:1})])]),s("button",{type:"button",class:"submit-btn",disabled:l(o).loading||X.value,onClick:T},[l(o).loading?(d(),i("span",ie,[...e[24]||(e[24]=[s("span",{class:"spinner"},null,-1),s("span",null,"–û–±—Ä–æ–±–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è...",-1)])])):(d(),i("span",de,[...e[25]||(e[25]=[s("span",{class:"btn-icon"},"‚úì",-1),s("span",null,"–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è",-1)])]))],8,re)]),m(l(O),{to:"/cart",class:"back-btn"},{default:f(()=>[...e[26]||(e[26]=[s("span",{class:"back-arrow"},"‚Üê",-1),s("span",null,"–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –∫–æ—à–∏–∫–∞",-1)])]),_:1}),e[28]||(e[28]=s("div",{class:"security-badge"},[s("span",{class:"shield-icon"},"üîí"),s("span",{class:"security-text"},"–í–∞—à—ñ –¥–∞–Ω—ñ –ø—ñ–¥ –Ω–∞–¥—ñ–π–Ω–∏–º –∑–∞—Ö–∏—Å—Ç–æ–º")],-1))])]))}}),ce=E(ue,[["__scopeId","data-v-508c9b1c"]]);export{ce as default};
